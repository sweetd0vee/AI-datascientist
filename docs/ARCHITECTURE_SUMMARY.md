# Краткое резюме архитектуры проекта

## Основные принципы

1. **Модульность** - код разделен на независимые модули
2. **Разделение ответственности** - каждый модуль отвечает за свою область
3. **Конфигурируемость** - настройки вынесены в отдельные файлы
4. **Расширяемость** - легко добавлять новые функции

## Структура модулей

### UI (`src/ui/`)
- Отвечает за пользовательский интерфейс Streamlit
- Компоненты для загрузки файлов и отображения результатов

### Core (`src/core/`)
- Бизнес-логика приложения
- Оркестрация процесса анализа
- Конвейер обработки данных

### LLM (`src/llm/`)
- Интеграция с языковыми моделями
- Промпты и цепочки LangChain
- Парсинг ответов от LLM

### Data (`src/data/`)
- Загрузка и предобработка данных
- Расчет метрик
- Генерация визуализаций

### Utils (`src/utils/`)
- Вспомогательные функции
- Безопасное выполнение кода
- Конвертация типов данных

### Config (`config/`)
- Настройки приложения
- Конфигурация промптов
- Настройки моделей LLM

## Поток данных

1. Пользователь → UI → загрузка файла
2. UI → Data Loader → загрузка данных
3. UI → Core Orchestrator → запуск анализа
4. Orchestrator → LLM → анализ структуры
5. Orchestrator → Data Preprocessor → предобработка
6. Orchestrator → LLM → план метрик
7. Orchestrator → LLM → код расчета метрик
8. Orchestrator → Code Executor → выполнение кода
9. Orchestrator → LLM → анализ результатов
10. Orchestrator → LLM → код визуализации
11. Orchestrator → Code Executor → выполнение визуализации
12. Orchestrator → LLM → итоговый отчет
13. Orchestrator → File Handler → сохранение результатов
14. Orchestrator → UI → отображение результатов

## Следующие шаги

Для полной реализации архитектуры необходимо:

1. Рефакторинг существующего кода из `ins_temp3.py` в модули
2. Создание классов в `src/core/` для оркестрации
3. Реализация компонентов UI
4. Добавление тестов
5. Документация API

