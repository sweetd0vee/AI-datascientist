# Структура проекта AI Data Scientist

## Созданная архитектура

Проект реорганизован в модульную архитектуру с четким разделением ответственности.

## Структура директорий

```
AI-datascientist/
├── src/                          # Основной код приложения
│   ├── ui/                       # Пользовательский интерфейс
│   │   ├── components/           # UI компоненты
│   │   └── pages/                # Дополнительные страницы
│   ├── core/                     # Бизнес-логика
│   ├── llm/                      # Интеграция с LLM
│   │   ├── models.py            # ✅ Инициализация моделей
│   │   ├── prompts.py           # ✅ Шаблоны промптов
│   │   └── parsers.py           # ✅ Парсинг ответов
│   ├── data/                     # Обработка данных
│   └── utils/                    # Утилиты
│       ├── logger.py            # ✅ Настройка логирования
│       └── type_converter.py    # ✅ Конвертация типов
│
├── config/                       # Конфигурация
│   ├── settings.py              # ✅ Основные настройки
│   ├── prompts_config.py        # ✅ Конфигурация промптов
│   └── models_config.py         # ✅ Настройки моделей
│
├── tests/                        # Тесты
│   ├── unit/                    # Юнит-тесты
│   ├── integration/             # Интеграционные тесты
│   └── fixtures/                # Тестовые данные
│
├── docs/                        # Документация
│   ├── ARCHITECTURE.md          # ✅ Подробное описание архитектуры
│   ├── ARCHITECTURE_DIAGRAM.md  # ✅ Диаграммы архитектуры
│   ├── ARCHITECTURE_SUMMARY.md  # ✅ Краткое резюме
│   └── MIGRATION_GUIDE.md       # ✅ Руководство по миграции
│
├── scripts/                     # Вспомогательные скрипты
├── requirements.txt             # ✅ Зависимости проекта
├── README.md                    # ✅ Основная документация
├── ARCHITECTURE.md              # ✅ Описание архитектуры
└── PROJECT_STRUCTURE.md         # ✅ Этот файл
```

## Реализованные модули

### ✅ Config Layer
- **settings.py**: Все настройки приложения (LLM, пути, логирование)
- **prompts_config.py**: Все промпты вынесены в отдельный файл
- **models_config.py**: Конфигурация моделей Ollama

### ✅ LLM Layer
- **models.py**: Инициализация моделей с кэшированием
- **prompts.py**: Функции для получения промптов
- **parsers.py**: Парсинг структурированных ответов от LLM

### ✅ Utils Layer
- **logger.py**: Настройка системы логирования
- **type_converter.py**: Конвертация numpy/pandas типов

### ⏳ Остальные модули
Требуют рефакторинга существующего кода из `ins_temp3.py`:
- **UI Layer**: Компоненты Streamlit
- **Core Layer**: Оркестратор и бизнес-логика
- **Data Layer**: Загрузка, предобработка, метрики, визуализация
- **Utils Layer**: Code executor, file handler

## Ключевые принципы архитектуры

1. **Модульность**: Каждый модуль отвечает за свою область
2. **Разделение ответственности**: Четкие границы между слоями
3. **Конфигурируемость**: Все настройки вынесены в config
4. **Расширяемость**: Легко добавлять новые функции
5. **Тестируемость**: Модули легко тестируются изолированно

## Следующие шаги

1. Рефакторинг кода из `ins_temp3.py` в модули (см. `docs/MIGRATION_GUIDE.md`)
2. Создание классов в `src/core/` для оркестрации
3. Реализация компонентов UI
4. Добавление тестов
5. Документация API

## Документация

- **ARCHITECTURE.md**: Подробное описание архитектуры
- **ARCHITECTURE_DIAGRAM.md**: Визуальные диаграммы
- **ARCHITECTURE_SUMMARY.md**: Краткое резюме
- **MIGRATION_GUIDE.md**: Руководство по миграции кода
- **README.md**: Основная документация проекта

## Зависимости

Все зависимости указаны в `requirements.txt`:
- Streamlit для UI
- LangChain для работы с LLM
- Pandas, NumPy для обработки данных
- Matplotlib, Seaborn для визуализации
- И другие...

## Конфигурация

Настройки можно задать через:
1. Переменные окружения (`.env` файл)
2. Файлы конфигурации в `config/`
3. Параметры по умолчанию в `config/settings.py`

## Статус проекта

- ✅ Архитектура спроектирована
- ✅ Структура директорий создана
- ✅ Базовые модули реализованы
- ✅ Конфигурация настроена
- ✅ Документация создана
- ⏳ Рефакторинг существующего кода (в процессе)

